<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ü–æ—Å–ª–µ–¥–Ω–∏–π —Å–∏–≥–Ω–∞–ª</title>

<style>
body{
  margin:0;
  background:#0a0a0a;
  color:#e5e5e5;
  font-family:"Courier New",monospace;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  padding:10px;
}
#game{
  width:100%;
  max-width:720px;
  background:#121212;
  border-radius:14px;
  padding:20px;
  box-shadow:0 0 30px rgba(0,0,0,.9);
}
.text{
  white-space:pre-line;
  font-size:clamp(14px,4vw,18px);
  line-height:1.55;
}
button{
  width:100%;
  padding:12px;
  margin-top:10px;
  font-size:clamp(14px,4vw,17px);
  background:#1c1c1c;
  color:#e5e5e5;
  border:1px solid #333;
  border-radius:8px;
}
#musicBtn{
  background:#262626;
  margin-bottom:10px;
}
</style>
</head>
<body>

<div id="game">
  <button id="musicBtn">üéµ –í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É</button>
  <div class="text" id="text"></div>
  <div id="choices"></div>
</div>

<audio id="bgm" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<audio id="click">
  <source src="click.mp3" type="audio/mpeg">
</audio>

<script>
const textEl=document.getElementById("text");
const choicesEl=document.getElementById("choices");
const bgm=document.getElementById("bgm");
const click=document.getElementById("click");
const musicBtn=document.getElementById("musicBtn");

let musicOn=false;

musicBtn.onclick=()=>{
  if(!musicOn){
    bgm.volume=0.5;
    bgm.play();
    musicBtn.textContent="üîá –í—ã–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É";
    musicOn=true;
  }else{
    bgm.pause();
    musicBtn.textContent="üéµ –í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É";
    musicOn=false;
  }
};

function playClick(){
  click.currentTime=0;
  click.play();
}

function show(text,choices){
  textEl.textContent=text;
  choicesEl.innerHTML="";
  choices.forEach(c=>{
    const b=document.createElement("button");
    b.textContent=c.text;
    b.onclick=()=>{
      playClick();
      c.action();
    };
    choicesEl.appendChild(b);
  });
}

function start(){
show(
`–¢—ã –ø—Ä–æ—Å—ã–ø–∞–µ—à—å—Å—è –≤ —Ç—ë–º–Ω–æ–π –∫–æ–º–Ω–∞—Ç–µ.
–ß–∞—Å—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç 03:17.

–†—è–¥–æ–º:
‚Äî —Ç–µ–ª–µ—Ñ–æ–Ω
‚Äî –¥–≤–µ—Ä—å –±–µ–∑ —Ä—É—á–∫–∏
‚Äî –æ–∫–Ω–æ —Å –ø—É—Å—Ç–æ—Ç–æ–π

–¢–µ–ª–µ—Ñ–æ–Ω –∑–∞–≥–æ—Ä–∞–µ—Ç—Å—è:
¬´–¢—ã –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã–ª –æ—Ç–≤–µ—á–∞—Ç—å.¬ª`,
[
{text:"–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –æ–∫–Ω–æ",action:windowScene},
{text:"–í–∑—è—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω",action:phoneScene},
{text:"–û—Å–º–æ—Ç—Ä–µ—Ç—å –¥–≤–µ—Ä—å",action:doorScene}
]);}

function windowScene(){
show(
`–°—Ç–µ–∫–ª–∞ –Ω–µ—Ç.
–í –æ—Ç—Ä–∞–∂–µ–Ω–∏–∏ ‚Äî —Ç—ã.

–ù–æ –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ
–Ω–µ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–π.

–û–Ω–æ –ø—Ä–∏–∫–ª–∞–¥—ã–≤–∞–µ—Ç –ø–∞–ª–µ—Ü –∫ –≥—É–±–∞–º.

–¢–µ–ª–µ—Ñ–æ–Ω –≤–∏–±—Ä–∏—Ä—É–µ—Ç:
¬´–û–Ω —É–∂–µ —É–≤–∏–¥–µ–ª —Ç–µ–±—è.¬ª`,
[
{text:"–û–±–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ç–µ–ª–µ—Ñ–æ–Ω—É",action:phoneScene}
]);}

function phoneScene(){
show(
`–ò–º—è —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞: ¬´–¢—ã¬ª.

¬´–ù–µ —Å–º–æ—Ç—Ä–∏ –Ω–∞–∑–∞–¥.
–î–≤–µ—Ä—å –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å
—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑.¬ª`,
[
{text:"–ü–æ–π—Ç–∏ –∫ –¥–≤–µ—Ä–∏",action:doorScene},
{text:"–û–±–µ—Ä–Ω—É—Ç—å—Å—è",action:badEnding}
]);}

function doorScene(){
show(
`–¢—ã –ø—Ä–∏–∫–ª–∞–¥—ã–≤–∞–µ—à—å —Ä—É–∫—É.

¬´–ß–¢–û –¢–´ –ì–û–¢–û–í
–û–°–¢–ê–í–ò–¢–¨ –ó–î–ï–°–¨?¬ª`,
[
{text:"–û—Å—Ç–∞–≤–∏—Ç—å –∑—Ä–µ–Ω–∏–µ",action:badEnding},
{text:"–û—Å—Ç–∞–≤–∏—Ç—å –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è",action:badEnding},
{text:"–û—Å—Ç–∞–≤–∏—Ç—å –≥–æ–ª–æ—Å",action:goodEnding}
]);}

function badEnding(){
show(
`–¢—ã –æ—à–∏–±—Å—è.

–¢—å–º–∞ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç—Å—è.
–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞.`,
[
{text:"–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ",action:start}
]);}

function goodEnding(){
show(
`–ì–æ–ª–æ—Å –∏—Å—á–µ–∑–∞–µ—Ç.
–î–≤–µ—Ä—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è.

03:18.

–¢—ã –≤—ã—à–µ–ª.
–ù–æ –∏–≥—Ä–∞
–µ—â—ë –Ω–µ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å‚Ä¶`,
[
{text:"–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ",action:start}
]);}

start();
</script>
</body>
</html>
